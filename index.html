import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Map;
import java.util.Scanner;
import java.util.stream.Collectors;
import java.util.HashMap;

/**
 * A Java console application that calculates Pokémon type effectiveness.
 * This demonstrates how to implement the core data structure and logic using Java.
 */
public class PokemonTypeCalculator {

    // --- 1. DATA STRUCTURE: The Pokémon Type Chart (Generation 6+) ---
    // The Map is defined statically, mapping Attacking Type -> (Defending Type -> Multiplier).
    private static final Map<String, Map<String, Double>> TYPE_EFFECTIVENESS;
    private static final List<String> ALL_TYPES = Arrays.asList(
        "Normal", "Fire", "Water", "Grass", "Electric", "Ice", "Fighting", "Poison", 
        "Ground", "Flying", "Psychic", "Bug", "Rock", "Ghost", "Dragon", "Steel", 
        "Dark", "Fairy"
    );

    // Static initializer block to set up the complex nested map data structure.
    static {
        TYPE_EFFECTIVENESS = new HashMap<>();

        // Helper function to create a map for a single attacking type
        Map<String, Double> createTypeMap(Object... pairs) {
            Map<String, Double> map = new HashMap<>();
            for (int i = 0; i < pairs.length; i += 2) {
                map.put((String) pairs[i], (Double) pairs[i + 1]);
            }
            return map;
        }

        TYPE_EFFECTIVENESS.put("Normal", createTypeMap("Ghost", 0.0, "Rock", 0.5, "Steel", 0.5));
        TYPE_EFFECTIVENESS.put("Fire", createTypeMap("Grass", 2.0, "Ice", 2.0, "Bug", 2.0, "Steel", 2.0, "Fire", 0.5, "Water", 0.5, "Rock", 0.5, "Dragon", 0.5));
        TYPE_EFFECTIVENESS.put("Water", createTypeMap("Fire", 2.0, "Ground", 2.0, "Rock", 2.0, "Water", 0.5, "Grass", 0.5, "Dragon", 0.5));
        TYPE_EFFECTIVENESS.put("Grass", createTypeMap("Water", 2.0, "Ground", 2.0, "Rock", 2.0, "Fire", 0.5, "Grass", 0.5, "Poison", 0.5, "Flying", 0.5, "Bug", 0.5, "Dragon", 0.5, "Steel", 0.5));
        TYPE_EFFECTIVENESS.put("Electric", createTypeMap("Water", 2.0, "Flying", 2.0, "Ground", 0.0, "Grass", 0.5, "Electric", 0.5, "Dragon", 0.5));
        TYPE_EFFECTIVENESS.put("Ice", createTypeMap("Grass", 2.0, "Ground", 2.0, "Flying", 2.0, "Dragon", 2.0, "Fire", 0.5, "Water", 0.5, "Ice", 0.5, "Steel", 0.5));
        TYPE_EFFECTIVENESS.put("Fighting", createTypeMap("Normal", 2.0, "Ice", 2.0, "Rock", 2.0, "Dark", 2.0, "Steel", 2.0, "Ghost", 0.0, "Poison", 0.5, "Flying", 0.5, "Psychic", 0.5, "Bug", 0.5, "Fairy", 0.5));
        TYPE_EFFECTIVENESS.put("Poison", createTypeMap("Grass", 2.0, "Fairy", 2.0, "Poison", 0.5, "Ground", 0.5, "Rock", 0.5, "Ghost", 0.5, "Steel", 0.0));
        TYPE_EFFECTIVENESS.put("Ground", createTypeMap("Fire", 2.0, "Electric", 2.0, "Poison", 2.0, "Rock", 2.0, "Steel", 2.0, "Flying", 0.0, "Grass", 0.5, "Bug", 0.5));
        TYPE_EFFECTIVENESS.put("Flying", createTypeMap("Grass", 2.0, "Fighting", 2.0, "Bug", 2.0, "Rock", 0.5, "Steel", 0.5, "Electric", 0.5));
        TYPE_EFFECTIVENESS.put("Psychic", createTypeMap("Fighting", 2.0, "Poison", 2.0, "Steel", 0.5, "Psychic", 0.5, "Dark", 0.0));
        TYPE_EFFECTIVENESS.put("Bug", createTypeMap("Grass", 2.0, "Psychic", 2.0, "Dark", 2.0, "Fire", 0.5, "Fighting", 0.5, "Poison", 0.5, "Flying", 0.5, "Ghost", 0.5, "Steel", 0.5, "Fairy", 0.5));
        TYPE_EFFECTIVENESS.put("Rock", createTypeMap("Fire", 2.0, "Ice", 2.0, "Flying", 2.0, "Bug", 2.0, "Fighting", 0.5, "Ground", 0.5, "Steel", 0.5));
        TYPE_EFFECTIVENESS.put("Ghost", createTypeMap("Psychic", 2.0, "Ghost", 2.0, "Normal", 0.0, "Dark", 0.5, "Steel", 0.5));
        TYPE_EFFECTIVENESS.put("Dragon", createTypeMap("Dragon", 2.0, "Steel", 0.5, "Fairy", 0.0));
        TYPE_EFFECTIVENESS.put("Steel", createTypeMap("Ice", 2.0, "Rock", 2.0, "Fairy", 2.0, "Fire", 0.5, "Water", 0.5, "Electric", 0.5, "Steel", 0.5));
        TYPE_EFFECTIVENESS.put("Dark", createTypeMap("Psychic", 2.0, "Ghost", 2.0, "Fighting", 0.5, "Dark", 0.5, "Fairy", 0.5));
        TYPE_EFFECTIVENESS.put("Fairy", createTypeMap("Fighting", 2.0, "Dragon", 2.0, "Dark", 2.0, "Fire", 0.5, "Poison", 0.5, "Steel", 0.5));
    }

    /**
     * Main method to run the console application.
     */
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.println("--- Pokémon Type Effectiveness Calculator (Java Console) ---");
        System.out.println("Available Types: " + ALL_TYPES.stream().collect(Collectors.joining(", ")));
        
        System.out.print("\nEnter the Attacking Type (e.g., Fire, Water, Ice): ");
        String inputType = scanner.nextLine().trim();

        // Capitalize the first letter for lookup uniformity
        String attackingType = inputType.substring(0, 1).toUpperCase() + inputType.substring(1).toLowerCase();

        if (!TYPE_EFFECTIVENESS.containsKey(attackingType)) {
            System.out.println("\nError: '" + inputType + "' is not a recognized type.");
            return;
        }

        // --- 2. CORE LOGIC: Calculation and Categorization ---
        calculateEffectiveness(attackingType);

        scanner.close();
    }

    /**
     * Calculates and prints the effectiveness of the given attacking type against all defending types.
     * @param attackingType The type of the move used.
     */
    private static void calculateEffectiveness(String attackingType) {
        
        // Use a map to store the results grouped by multiplier category
        Map<Double, List<String>> results = new HashMap<>();
        results.put(2.0, new ArrayList<>());
        results.put(0.5, new ArrayList<>());
        results.put(0.0, new ArrayList<>());
        results.put(1.0, new ArrayList<>());

        Map<String, Double> attackChart = TYPE_EFFECTIVENESS.get(attackingType);

        // Loop through all possible defending types
        for (String defendingType : ALL_TYPES) {
            // Get the multiplier, defaulting to 1.0 (Neutral) if not specified
            Double multiplier = attackChart.getOrDefault(defendingType, 1.0);
            
            // Categorize the defending type
            results.get(multiplier).add(defendingType);
        }

        // --- 3. DISPLAY: Print the Categorized Results ---
        System.out.println("\n---------------------------------------------------------");
        System.out.println("EFFECTIVENESS OF " + attackingType.toUpperCase() + " ATTACKS:");
        System.out.println("---------------------------------------------------------");
        
        // 2x Multiplier
        displayCategory("SUPER EFFECTIVE (2x)", results.get(2.0));
        
        // 0.5x Multiplier
        displayCategory("NOT VERY EFFECTIVE (0.5x)", results.get(0.5));
        
        // 0x Multiplier
        displayCategory("INEFFECTIVE / IMMUNE (0x)", results.get(0.0));
        
        // 1x Multiplier (Neutral) - less critical for a quick glance, but included for completeness
        System.out.println("\n[Neutral (1x)]: " + formatTypeList(results.get(1.0)));
        System.out.println("---------------------------------------------------------");
    }

    /**
     * Helper method to display a categorized list of types.
     * @param title The category title.
     * @param types The list of types in that category.
     */
    private static void displayCategory(String title, List<String> types) {
        String typeList = formatTypeList(types);
        System.out.println("\n" + title + ": " + typeList);
    }
    
    /**
     * Formats a list of types into a comma-separated string, or returns "None" if empty.
     */
    private static String formatTypeList(List<String> types) {
        if (types.isEmpty()) {
            return "None";
        }
        // Sort the list alphabetically before joining
        types.sort(String::compareTo);
        return types.stream().collect(Collectors.joining(", "));
    }
}
